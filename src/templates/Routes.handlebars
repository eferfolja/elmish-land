{{Autogenerated}}
module {{RootModule}}.Routes

open Feliz.Router

[<RequireQualifiedAccess>]
type Route =
    {{#each Routes}}
    | {{Name}} of {{#if ArgsDefinition}}{{ArgsDefinition}} * {{/if}}query: list<string * string>
    {{/each}}
    | NotFound

module Route =
    let format =
        function
        {{#each Routes}}
        | Route.{{Name}} ({{#if ArgsPattern}}{{ArgsPattern}}, {{/if}}query) -> Router.format({{#if UrlUsage}}{{UrlUsage}}{{else}}""{{/if}}, query)
        {{/each}}
        | Route.NotFound -> "notFound"

    let parse (xs: string list) =
        match xs |> List.map (fun x -> x.ToLowerInvariant ()) with
        {{#each Routes}}
        | {{UrlPatternWithQuery}} -> Route.{{Name}} ({{#if ArgsUsage}}{{ArgsUsage}}, {{/if}}query)
        {{/each}}
        {{#each Routes}}
        | {{UrlPattern}} -> Route.{{Name}} ({{#if ArgsUsage}}{{ArgsUsage}}, {{/if}}[])
        {{/each}}
        | other ->
            printfn "Route not found: '%A'" other
            Route.NotFound
